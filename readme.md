# (擬似)デュエル・マスターズ
デュエル・マスターズの基本的なルールをRubyのみでほぼ再現した、ターミナル上で動作するゲームです。

## 用語解説
* クリーチャー
    * モンスターのことです。バトルゾーンに召喚できます。
* シールド
    * 各プレイヤーがゲーム開始時にデッキの上から5枚をシールドとして裏向きのままシールドゾーンに置くカードのことです。相手プレイヤーにブレイク(攻撃)された際に相手プレイヤーに見せないように自分の手札に加えます。
* デッキ
    * 各プレイヤーの所持している全てのカードのこと。40枚(1種類につき4枚 × 10種類)あります。双方同じデッキを使用しています。
* 手札
    * 各プレイヤーが使用できるカードのこと。ゲーム開始時にデッキの上から5枚を手札に加え、ゲームスタートです。
* 墓地
    * 破壊されたクリーチャーが置かれる場所のこと。
* マナゾーン
    * 各ターンに1枚だけカードを手札から送ることができる。マナゾーンにあるカードの総数が、そのターンに使用できるコスト数になります。
    * 使用したマナは消えるわけではありません。2コストのカードを使った場合、マナゾーンから2枚カードが消えるわけではなく、あくまでそのターンに使用できるマナ数が2減るだけです。次のターンにはまたマナゾーンに存在するカード分のコストが使用できます。



## ゲーム進行の流れ
カードゲーム「デュエル・マスターズ」のルールを再現したゲームです。
多少実際のルールと異なる部分はありますが、大部分はデュエル・マスターズと同じです。
ルールとその実装方法を簡単に記述します。
**【勝利条件】相手のシールドを全てブレイクした状態で相手プレイヤーに攻撃する。**
0. 両プレイヤーがデッキの上から5枚を手札に、さらにそこから5枚をシールドゾーンに加える。(ゲーム開始前)
デッキ(配列)に対してslice!メソッドを呼び出し、戻り値をユーザークラスの@handsというインスタンス変数に加える。シールドも@shieldsに同じ方法で加える。

1. デッキからカードを1枚引く。

2. 先行のプレイヤーは手札から1枚だけマナゾーンに加える。
ユーザークラスにcharge_manaメソッドを定義し、選択した手札をdelete_atで削除し、戻り値を@manazoneに加える。

3. 手札から呪文を発動・クリーチャーを召喚する。(召喚・呪文発動フェイズ)
マナゾーンにあるカードの数(マナ数)を使用するカードのコスト分消費して使用できます。
<font color="Red">**カードを使用するためには使用するカードと同じカラーのカードが最低1枚存在していなければいけません。**</font>
【例】3コストのブルーカラーのカードを使用したい場合は、マナゾーンにブルーカラーのカードが最低1枚あれば3マナ消費して使用できる。
コストは使用した分だけ減っていきますが、カラーに関しては最低1枚あれば問題ありません。
※例えばマナゾーンにredカラーが3枚、blueカラーが1枚、計4枚ある場合に、2コストのblueカラーのカードを2枚使用することは可能です。
blueカラーのカードを2枚使用する場合でも、blueカラーが2枚必要、ということにはなりません。

4. バトルゾーンにあるクリーチャーで攻撃する(アタックフェイズ)
攻撃には2種類あります。
  1. 相手プレイヤーを攻撃する
      相手プレイヤーにシールドがある場合、クリーチャーの@break_powerの値の枚数、シールドを割ります。シールドは相手の手札に加わります。
      シールドがない状態で相手プレイヤーを攻撃した時点で勝利となります。
  2. 相手クリーチャーを攻撃する
      相手のバトルゾーンにあるクリーチャーの中で、タップされているクリーチャー(@tap = true)はアタックできます。その場合、クリーチャー同士のパワー(@power)を比較し、パワーが小さいクリーチャーが墓地に送られます。両者のパワーが等しい場合、両者墓地に送られます。
攻撃可能な条件は召喚酔いをしていない(@sickness = false),タップされていない(@tap = false)状態です。召喚酔いとは、召喚されたクリーチャーは最初のターンは攻撃ができない性質のことです。基本的にクリーチャーはデフォルトで召喚酔いするように(@sickness = true)にしていますが、召喚されたそのターンから攻撃可能なクリーチャー(スピードアタッカー)もいます。

1~4をどちらかのlifeがfalseになるまで続けます。